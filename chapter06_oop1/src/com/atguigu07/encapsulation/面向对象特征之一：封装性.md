### 面向对象特征之一：封装性(encapsulation)

#### 为什么需要封装性？
* 我要用洗衣机，只需要按一下开关和洗涤模式就可以了。有必要了解洗衣机内部的结构吗?有必要碰电动机吗?
* 我要开车，我不需要懂离合、油门、制动等原理和维修也可以驾驶。
* 客观世界里每一个事物的内部信息都隐藏在其内部，外界无法直接操作和修改，只能通过指定的方式进行访问和修改。
随着我们系统越来越复杂，类会越来越多，那么类之间的访问边界必须把握好，面向对象的开发原则要遵循“**高内聚、低耦合**”。
> 高内聚、低耦合是软件工程中的概念，也是UNIX操作系统设计的经典原则。<br>
> 内聚，指一个模块内各个元素彼此结合的紧密程度;耦合指一个软件结构内不同模块之间互连程度的度量。<br>
> 内聚意味着重用和独立，耦合意味着多米诺效应牵一发动全身。

而“高内聚，低耦合”的体现之一:
- **高内聚**: 类的内部数据操作细节自己完成，不允许外部干涉;
- **低耦合**: 仅暴露少量的方法给外部使用，尽量方便外部调用。

#### 何为封装性？
所谓封装，就是把客观事物封装成抽象概念的类，并且类可以把自己的数据和方法只向可信的类或者对象开放，向没必要开放的类或者对象隐藏信息。

通俗的讲：把该隐藏的隐藏起来，该暴露的暴露出来。这就是封装性的设计思想。

#### 如何实现数据封装？
* 权限修饰符
  * java规定了4种权限修饰，分别是：private、缺省、protected、public
* 作用
  * 我们可以使用4种权限修饰来修饰类及类的内部成员。当这些成员被调用时，体现可见性的大小。

|    修饰符    | 本类内部 | 本包内 | 其他包的子类 | 其他包非子类 |
|:---------:|:----:|:---:|:------:|:------:|
|  private  |  √   |  ×  |   ×    |   ×    |
|    缺省     |  √   |  √  |   ×    |   ×    |
| protected |  √   |  √  |   √    |   ×    |
|  public   |  √   |  √  |   √    |   √    |

* 外部类：只能使用public、缺省修饰
* 成员变量、成员方法、构造器、成员内部类：可以使用4种权限修饰符进行修饰。
* 开发中4种权限使用频率的情况：
  * 比较高：public、private
  * 比较低：缺省、protected

#### 实际案例:
在题目中，我们给 `Animal` 的对象的 `legs` 属性赋值。在实际的常识中，我们知道 `legs` 不能赋值为负数的。但是如果直接调用属性 `legs`，是不能加入判断逻辑的。那怎么办呢?
* 将 `legs` 属性私有化(`private`)，禁止在 `Anima`l 类的外部直接调用此属性
* 提供给 `legs` 属性赋值的 `setLegs()` 方法，在此方法中加入 `legs` 赋值的判断逻辑 `if(legs>=0 && legs%2==0)` ，将此方法暴露出去，使得在`Animal`类的外部调用此方法，对legs属性赋值。
* 提供给 `legs` 属性获取的 `getLegs()` 方法，此方法对外暴露。使得在 `Animal` 类的外部还可以调用此属性的值。

#### 封装性的体现
* 场景1：私有化（private）类的属性，提供公共（public）的get和set方法，对此属性进行获取或修改
* 场景2：将类中不需要对外暴露的方法，设置为private
* 场景3：单例模式中构造器用private修饰，避免在类的外部创建实例。